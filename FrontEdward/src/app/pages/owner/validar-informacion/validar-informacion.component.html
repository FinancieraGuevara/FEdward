<div class="validar-informacion">
  <div class="container">
    <header>
      <h1 class="text-center mb-4">Ingrese los datos</h1>
      <div class="progress-container">
        <div class="progress-bar" style="width: 25%"></div>
      </div>
    </header>

    <nav class="back-navigation">
      <!-- <button class="btn-back" (click)="volver()">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
          <path fill="none" d="M0 0h24v24H0z"/>
          <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" fill="currentColor"/>
        </svg>
        <span>Volver</span>
      </button> -->
    </nav>

    <main>
      <form #myForm="ngForm" (ngSubmit)="continue()" novalidate>
        <div class="form-section">
          <h2>Tipo de Documento</h2>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="tipoDocumento" [(ngModel)]="selectedTipo" value="dni" required>
              <span>DNI</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="tipoDocumento" [(ngModel)]="selectedTipo" value="ruc" required>
              <span>RUC</span>
            </label>
          </div>
          <div *ngIf="myForm.controls['tipoDocumento']?.invalid && myForm.controls['tipoDocumento']?.touched" class="error-message">
            Selecciona un tipo de documento.
          </div>
        </div>

        <div class="form-section" *ngIf="!isLoading">
          <h2>Número de Documento</h2>
          <div class="input-group">
            <input type="text" id="dni" class="form-control" placeholder="Ingrese número de documento"
                   maxlength="11" (keypress)="validateNumber($event)" [(ngModel)]="dni" name="dni" required>
            <button class="btn btn-search" type="button" (click)="buscar()">Buscar</button>
          </div>
          <div *ngIf="myForm.controls['dni']?.invalid && myForm.controls['dni']?.touched" class="error-message">
            El número de documento es obligatorio.
          </div>
        </div>

        <div class="loading-spinner" *ngIf="isLoading">
          <div class="spinner"></div>
        </div>

        <div class="result-section" *ngIf="!isLoading && loading == 1">
          <h2>Información del solicitante</h2>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Documento:</span>
              <span class="value">{{ solicitanteData.numero }}</span>
            </div>
            <div class="info-item">
              <span class="label">Nombre o razón social:</span>
              <span class="value">{{ solicitanteData.nombre_completo }}</span>
            </div>
          </div>
          <button type="submit" class="btn btn-continue">Continuar</button>
        </div>
      </form>
    </main>

    <div class="custom-alert" *ngIf="showError">
      Error: Hubo un problema al iniciar sesión.
    </div>
  </div>

  <footer>
    <hr>
    <p class="copyright">Copyright © 2024, All rights reserved.</p>
  </footer>
</div>